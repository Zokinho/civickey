Status,ID,Area,Category,Test Case,Steps,Expected Result,Priority,Notes
,WB-001,Website Builder,Setup,"Project builds successfully","Run 'npm run build' in civickey-website-builder/","Build completes with no errors",Critical,
,WB-002,Website Builder,Setup,"Dev server starts","Run 'npm run dev' in civickey-website-builder/, visit localhost:3000","Dev server runs, root page shows CivicKey Website Builder splash",Critical,
,WB-003,Website Builder,Setup,"Path-based routing works in dev","Visit localhost:3000/saint-lazare/fr","Redirects to /saint-lazare/fr and shows home page with real Firestore data",Critical,
,WB-004,Website Builder,Setup,"English path works in dev","Visit localhost:3000/saint-lazare/en","Shows home page with English UI labels",Critical,
,WB-005,Website Builder,Setup,"Invalid municipality shows 404","Visit localhost:3000/nonexistent-municipality/fr","Shows 404 / Not Found page",High,
,WB-006,Website Builder,Middleware,"Subdomain parsing works","Deploy to Vercel; visit saint-lazare.civickey.ca","Rewrites to /saint-lazare/fr/ internally; shows home page",Critical,Production only
,WB-007,Website Builder,Middleware,"Locale cookie is respected","Set locale=en cookie; visit municipality site","Page loads in English",High,
,WB-008,Website Builder,Middleware,"Accept-Language header fallback","Clear cookie; set browser to English","Page defaults to English from Accept-Language header",Medium,
,WB-009,Website Builder,Middleware,"Default locale is French","Clear cookie; neutral Accept-Language","Page loads in French (Quebec default)",High,
,WB-010,Website Builder,Middleware,"Static files bypass middleware","Visit any image/CSS/JS asset URL","Static files load without middleware interference",High,
,WB-011,Website Builder,Middleware,"API routes bypass middleware","POST to /api/domains","API route responds correctly; not intercepted by middleware",High,
,WB-012,Website Builder,i18n,"Language toggle switches locale","Click FR|EN toggle on any page","URL locale segment changes; cookie is set; page re-renders in new language",Critical,
,WB-013,Website Builder,i18n,"All nav labels are translated FR","Load any page in French","All nav items show French labels (Accueil, Collectes, Activites, Avis, Installations)",Critical,
,WB-014,Website Builder,i18n,"All nav labels are translated EN","Load any page in English","All nav items show English labels (Home, Collections, Events, News, Facilities)",Critical,
,WB-015,Website Builder,i18n,"Section titles use i18n","Check home page sections in both languages","'Upcoming Events'/'Activites a venir', 'Next Collections'/'Prochaines collectes' etc.",High,
,WB-016,Website Builder,i18n,"Day names translated","Check collection schedule in both languages","Monday/Lundi, Tuesday/Mardi, etc.",Medium,
,WB-017,Website Builder,i18n,"Alert type labels translated","View news page with alerts in both languages","Info/Info, Warning/Avertissement, Urgent/Urgent, Emergency/Urgence",Medium,
,WB-018,Website Builder,i18n,"Bilingual content from Firestore","Check event titles in both languages","Event title shows obj.fr in French mode, obj.en in English mode",Critical,
,WB-019,Website Builder,i18n,"Fallback chain works","Create a Firestore event with only FR title; view in EN","Shows FR title as fallback (not blank)",Medium,
,WB-020,Website Builder,Theming,"Municipality colors apply","Load site for a municipality with custom colors set","Primary color changes header links, buttons, hero background",High,
,WB-021,Website Builder,Theming,"Default colors work","Load site for municipality with no colors set","Falls back to default teal (#0D5C63)",High,
,WB-022,Website Builder,Theming,"Municipality logo displays","Set logo URL in Firestore; load site","Logo appears in header next to municipality name",High,
,WB-023,Website Builder,Theming,"No logo gracefully handled","Remove logo from Firestore; load site","Header shows just municipality name; no broken image",Medium,
,WB-024,Website Builder,Home Page,"Hero section renders","Load home page","Shows municipality name, optional tagline, optional hero image",Critical,
,WB-025,Website Builder,Home Page,"Active alerts display","Create active alert in Firestore; load home page","Alert banner shows with correct color by type (info=blue, warning=yellow, etc.)",High,
,WB-026,Website Builder,Home Page,"No alerts = no section","Deactivate all alerts; load home page","Alerts section is completely hidden",Medium,
,WB-027,Website Builder,Home Page,"Upcoming events display (max 4)","Create 6 upcoming events; load home page","Shows exactly 4 event cards",High,
,WB-028,Website Builder,Home Page,"View All links work","Click 'View All' next to events section","Navigates to /municipality/locale/events",High,
,WB-029,Website Builder,Home Page,"Collection preview shows","Ensure schedule data exists; load home page","Shows collection type cards with zone schedule data",High,
,WB-030,Website Builder,Home Page,"Empty state - no events","Delete all events; load home page","Events section is hidden entirely",Medium,
,WB-031,Website Builder,Collections,"Page loads with zones","Visit /collections page","Shows zone selector buttons and schedule grid",Critical,
,WB-032,Website Builder,Collections,"Zone selector switches data","Click different zone buttons","Schedule grid updates to show selected zone's collection days",High,
,WB-033,Website Builder,Collections,"First zone selected by default","Load collections page","First zone is pre-selected",Medium,
,WB-034,Website Builder,Collections,"Schedule grid shows colored dots","View schedule for zone with collections","Colored dots appear on correct days for each collection type",High,
,WB-035,Website Builder,Collections,"Guidelines section renders","Set guidelines in Firestore; load collections","Guidelines cards appear below schedule",Medium,
,WB-036,Website Builder,Collections,"No zones gracefully handled","Remove all zones; visit collections","No zone selector shown; appropriate message",Medium,
,WB-037,Website Builder,Events List,"Events page loads","Visit /events page","Shows page title and event cards",Critical,
,WB-038,Website Builder,Events List,"Category filter works","Click different category filter buttons","Event list filters to selected category",High,
,WB-039,Website Builder,Events List,"'All' filter shows everything","Click 'All' filter","All events displayed regardless of category",High,
,WB-040,Website Builder,Events List,"Empty state shows message","Delete all events; visit events page","Shows 'No upcoming events' message",Medium,
,WB-041,Website Builder,Events List,"Event cards link to detail","Click any event card","Navigates to /events/[id] detail page",High,
,WB-042,Website Builder,Event Detail,"Detail page loads","Visit /events/[valid-id]","Shows event title, date, time, description, location",Critical,
,WB-043,Website Builder,Event Detail,"Invalid event ID shows 404","Visit /events/nonexistent-id","Shows 404 page",High,
,WB-044,Website Builder,Event Detail,"Back link works","Click back arrow on event detail","Returns to events list",Medium,
,WB-045,Website Builder,Event Detail,"Multi-day event shows end date","Create multi-day event; view detail","Shows 'Until [end date]' text",Medium,
,WB-046,Website Builder,Event Detail,"Residents only badge shows","Create residents-only event; view detail","Shows 'Residents only' text",Low,
,WB-047,Website Builder,Event Detail,"Max participants shows","Create event with max; view detail","Shows 'Maximum X participants' text",Low,
,WB-048,Website Builder,News,"News page loads","Visit /news page","Shows page title and alert cards sorted by date",Critical,
,WB-049,Website Builder,News,"Alert type badges colored correctly","View news with different alert types","Info=blue, warning=yellow, urgent=orange, emergency=red badges",Medium,
,WB-050,Website Builder,News,"Date formatting correct","View news cards","Dates formatted in locale-appropriate format (fr-CA or en-CA)",Medium,
,WB-051,Website Builder,News,"Empty state","Remove all alerts; visit news","Shows 'No news at the moment' message",Medium,
,WB-052,Website Builder,Facilities List,"Facilities page loads","Visit /facilities page","Shows facility cards in grid",Critical,
,WB-053,Website Builder,Facilities List,"Open/Closed badges correct","Visit during business hours vs after hours","'Open' badge green when within hours; 'Closed' when outside",High,
,WB-054,Website Builder,Facilities List,"Facility cards link to detail","Click any facility card","Navigates to /facilities/[id] detail page",High,
,WB-055,Website Builder,Facilities List,"Empty state","Remove all facilities; visit page","Shows 'No facilities found' message",Medium,
,WB-056,Website Builder,Facility Detail,"Detail page loads","Visit /facilities/[valid-id]","Shows name, description, hours table, contact info",Critical,
,WB-057,Website Builder,Facility Detail,"Hours table highlights today","Visit facility detail page","Current day row is highlighted/bold",Medium,
,WB-058,Website Builder,Facility Detail,"Phone/email links work","Click phone number or email","Opens tel: or mailto: link",Medium,
,WB-059,Website Builder,Facility Detail,"Invalid facility shows 404","Visit /facilities/nonexistent-id","Shows 404 page",High,
,WB-060,Website Builder,Custom Pages,"Text page renders","Create published text page in admin; visit /{slug}","Shows title, body text, featured image, contact info",Critical,
,WB-061,Website Builder,Custom Pages,"Info cards page renders","Create published info-cards page; visit /{slug}","Shows intro text and card grid",Critical,
,WB-062,Website Builder,Custom Pages,"PDF page renders","Create published pdf page; visit /{slug}","Shows document list with download links",Critical,
,WB-063,Website Builder,Custom Pages,"Council page renders","Create published council page; visit /{slug}","Shows member cards with photos, names, roles",Critical,
,WB-064,Website Builder,Custom Pages,"Links page renders","Create published links page; visit /{slug}","Shows categorized link lists",Critical,
,WB-065,Website Builder,Custom Pages,"Contact page renders","Create published contact page; visit /{slug}","Shows address, phone, email, hours, departments",Critical,
,WB-066,Website Builder,Custom Pages,"Draft pages are not accessible","Create a draft page; try to visit /{slug}","Returns 404 (draft pages not public)",High,
,WB-067,Website Builder,Custom Pages,"Unknown slug returns 404","Visit /nonexistent-slug","Returns 404 page",High,
,WB-068,Website Builder,Custom Pages,"Pages appear in nav dropdowns","Create page with showInMenu=true, menuSection='services'","Page title appears in Services dropdown in header nav",High,
,WB-069,Website Builder,Custom Pages,"City section dropdown works","Create page with menuSection='city'","Page title appears in City dropdown",High,
,WB-070,Website Builder,Custom Pages,"Menu order respected","Create 3 pages with menuOrder 1,2,3","Pages appear in correct order in dropdown",Medium,
,WB-071,Website Builder,Custom Pages,"Mobile nav shows custom pages","Open mobile hamburger menu","Custom pages listed after built-in pages",Medium,
,WB-072,Website Builder,Responsive,"Home page mobile layout","Resize to 375px width","Hero, alerts, events stack vertically; no horizontal scroll",Critical,
,WB-073,Website Builder,Responsive,"Navigation collapses to hamburger","Resize below lg breakpoint","Desktop nav hidden; hamburger button appears",Critical,
,WB-074,Website Builder,Responsive,"Mobile menu opens/closes","Click hamburger; click X or outside","Menu slides in and out correctly",High,
,WB-075,Website Builder,Responsive,"Collections page mobile","View collections on mobile","Zone selector wraps; schedule grid scrolls horizontally",High,
,WB-076,Website Builder,Responsive,"Event cards stack on mobile","View events page on mobile","Cards stack to single column",Medium,
,WB-077,Website Builder,Responsive,"Facility grid adapts","Resize from desktop to mobile","3-col -> 2-col -> 1-col layout",Medium,
,WB-078,Website Builder,Performance,"ISR revalidation works","Modify Firestore data; wait 5 min; reload page","Updated data appears after revalidation period",High,Requires deployed env
,WB-079,Website Builder,Performance,"Loading state displays","Slow network; load any page","Skeleton loading animation shows briefly",Medium,
,WB-080,Website Builder,Performance,"Error boundary catches errors","Force an error (bad Firestore query)","Error page shows with retry button",Medium,
,WB-081,Website Builder,Domains API,"Add domain endpoint works","POST /api/domains with action='add'","Returns success with domain data (requires VERCEL_API_TOKEN)",High,Requires Vercel config
,WB-082,Website Builder,Domains API,"Remove domain endpoint works","POST /api/domains with action='remove'","Returns success",High,Requires Vercel config
,WB-083,Website Builder,Domains API,"Verify domain endpoint works","POST /api/domains with action='verify'","Returns {verified: true/false}",High,
,WB-084,Website Builder,Domains API,"Missing domain returns 400","POST /api/domains with no domain field","Returns 400 error",Medium,
,WB-085,Website Builder,Domains API,"Invalid action returns 400","POST /api/domains with action='invalid'","Returns 400 error",Medium,
,WB-086,Website Builder,Domains API,"No Vercel token returns 500","Unset VERCEL_API_TOKEN; call add/remove","Returns 500 error",Medium,
,AC-001,Admin Console,Sidebar,"Website link visible for admin+","Log in as admin role","'Website' link (globe icon) visible in sidebar",Critical,
,AC-002,Admin Console,Sidebar,"Custom Pages link visible for all","Log in as editor role","'Custom Pages' link (page icon) visible in sidebar",Critical,
,AC-003,Admin Console,Sidebar,"Website link hidden for viewer","Log in as viewer role","'Website' link NOT in sidebar",High,
,AC-004,Admin Console,Sidebar,"Website link hidden for editor","Log in as editor role","'Website' link NOT in sidebar (admin+ only)",High,
,AC-005,Admin Console,Routes,"Website Settings page loads","Click Website in sidebar","WebsiteSettings page renders without errors",Critical,
,AC-006,Admin Console,Routes,"Custom Pages list loads","Click Custom Pages in sidebar","CustomPages page renders with page table or empty state",Critical,
,AC-007,Admin Console,Routes,"Custom Page Editor loads","Click Edit on a custom page","CustomPageEditor page renders with form fields",Critical,
,AC-008,Admin Console,Website Settings,"Enable/disable toggle works","Check/uncheck Website enabled","Checkbox state changes; URL section shows/hides",High,
,AC-009,Admin Console,Website Settings,"Subdomain URL displays correctly","Enable website","Shows https://[municipality].civickey.ca link",High,
,AC-010,Admin Console,Website Settings,"Hero tagline EN saves","Enter English tagline; click Save","Saved to Firestore website.heroTagline.en",High,
,AC-011,Admin Console,Website Settings,"Hero tagline FR saves","Enter French tagline; click Save","Saved to Firestore website.heroTagline.fr",High,
,AC-012,Admin Console,Website Settings,"Hero image upload works","Upload an image file","Image uploads to Firebase Storage; preview shows; URL stored",High,
,AC-013,Admin Console,Website Settings,"Footer address saves","Enter address; click Save","Saved to Firestore website.footer.address",High,
,AC-014,Admin Console,Website Settings,"Footer phone saves","Enter phone; click Save","Saved to Firestore website.footer.phone",High,
,AC-015,Admin Console,Website Settings,"Footer email saves","Enter email; click Save","Saved to Firestore website.footer.email",High,
,AC-016,Admin Console,Website Settings,"Social media URLs save","Enter Facebook/Instagram/Twitter/YouTube URLs; save","All 4 URLs saved to Firestore website.footer",Medium,
,AC-017,Admin Console,Website Settings,"Custom domain field saves","Enter www.example.ca; save","Saved to Firestore website.customDomain",High,
,AC-018,Admin Console,Website Settings,"DNS instructions display","Enter custom domain","DNS CNAME instruction box appears",High,
,AC-019,Admin Console,Website Settings,"Verify DNS button works (success)","Configure valid CNAME; click Verify DNS","Shows 'Verified' in green",High,Requires real DNS setup
,AC-020,Admin Console,Website Settings,"Verify DNS button works (failure)","Enter unresolved domain; click Verify DNS","Shows 'DNS not configured yet' in red",High,
,AC-021,Admin Console,Website Settings,"Settings persist on reload","Save settings; refresh page","All saved values reload correctly",Critical,
,AC-022,Admin Console,Website Settings,"Viewer cannot edit","Log in as viewer; visit Website Settings","All fields disabled; no Save button",High,
,AC-023,Admin Console,Website Settings,"Editor cannot edit","Log in as editor; visit Website Settings","Page not accessible (link hidden); direct URL should show disabled",High,
,AC-024,Admin Console,Custom Pages,"Empty state displays","No pages exist; visit Custom Pages","Shows 'No custom pages yet' with Create button",High,
,AC-025,Admin Console,Custom Pages,"New Page modal opens","Click '+ New Page' button","Modal opens with page type selector",High,
,AC-026,Admin Console,Custom Pages,"All 6 page types in selector","Open new page modal","Options: Text Page, Info Cards, PDF Documents, Council Members, Useful Links, Contact Page",Critical,
,AC-027,Admin Console,Custom Pages,"Create page navigates to editor","Select type; click Create Page","New page created in Firestore; navigates to /custom-pages/[newId]",Critical,
,AC-028,Admin Console,Custom Pages,"Pages table shows correct data","Create 3 different pages","Table shows title (EN+FR), type, menu section, status for each",High,
,AC-029,Admin Console,Custom Pages,"Edit button navigates to editor","Click Edit on a page","Opens CustomPageEditor for that page",High,
,AC-030,Admin Console,Custom Pages,"Delete button works","Click Delete on a page; confirm","Page deleted from Firestore; removed from table",High,
,AC-031,Admin Console,Custom Pages,"Delete confirmation required","Click Delete","Browser confirm() dialog appears",Medium,
,AC-032,Admin Console,Custom Pages,"Viewer cannot create/delete","Log in as viewer","No '+ New Page' button; no Delete buttons",High,
,AC-033,Admin Console,Page Editor,"Title EN/FR fields work","Enter titles in both languages","Fields accept input; values saved on Save",Critical,
,AC-034,Admin Console,Page Editor,"Slug field works","Enter 'about-us'","Slug auto-sanitized (lowercase, hyphens); shows URL preview",High,
,AC-035,Admin Console,Page Editor,"Slug validation - special chars","Enter 'About Us!@#'","Sanitized to 'about-us---' on save",Medium,
,AC-036,Admin Console,Page Editor,"Status toggle draft/published","Change status dropdown","Value changes between draft and published",High,
,AC-037,Admin Console,Page Editor,"Show in menu checkbox works","Check 'Show in navigation menu'","Menu Section and Menu Order fields appear",High,
,AC-038,Admin Console,Page Editor,"Menu section dropdown works","Select 'Services' or 'City'","Value saved correctly",High,
,AC-039,Admin Console,Page Editor,"Menu order numeric input works","Enter order number","Numeric value saved correctly",Medium,
,AC-040,Admin Console,Page Editor,"Save validation - empty title","Leave titles empty; click Save","Alert: 'Title is required in both English and French'",High,
,AC-041,Admin Console,Page Editor,"Save validation - empty slug","Leave slug empty; click Save","Alert: 'URL slug is required'",High,
,AC-042,Admin Console,Page Editor,"Back button returns to list","Click Back arrow","Navigates to /custom-pages",Medium,
,AC-043,Admin Console,Page Editor,"Text page editor renders","Create text page; open editor","Shows body EN/FR textareas, featured image, contact fields",Critical,
,AC-044,Admin Console,Page Editor,"Info cards editor - add card","Click '+ Add Card'","New card form appears with title/description/icon fields",High,
,AC-045,Admin Console,Page Editor,"Info cards editor - remove card","Click Remove on a card","Card removed from list",High,
,AC-046,Admin Console,Page Editor,"Info cards editor - reorder","Click Up/Down buttons","Cards swap positions",Medium,
,AC-047,Admin Console,Page Editor,"PDF editor - add document","Click '+ Add Document'","New document form with title/URL/description fields",High,
,AC-048,Admin Console,Page Editor,"PDF editor - remove document","Click Remove on a document","Document removed from list",High,
,AC-049,Admin Console,Page Editor,"Council editor - add member","Click '+ Add Member'","New member form with name/role/photo/email/phone fields",High,
,AC-050,Admin Console,Page Editor,"Council editor - remove member","Click Remove on a member","Member removed from list",High,
,AC-051,Admin Console,Page Editor,"Links editor - add category","Click '+ Add Category'","New category form with title EN/FR and links section",High,
,AC-052,Admin Console,Page Editor,"Links editor - add link to category","Click '+ Add Link' within a category","New link form with title EN/FR, URL, icon fields",High,
,AC-053,Admin Console,Page Editor,"Links editor - remove category","Click Remove on a category","Category and all its links removed",High,
,AC-054,Admin Console,Page Editor,"Contact editor fields work","Enter address/phone/email/hours/departments","All fields accept input and save correctly",High,
,AC-055,Admin Console,Page Editor,"Contact editor - add department","Click '+ Add Department'","New department form with name/phone/email/hours fields",High,
,AC-056,Admin Console,Page Editor,"Content persists on reload","Save page with content; refresh","All content fields reload with saved values",Critical,
,AC-057,Admin Console,Page Editor,"Disabled state for viewer","Log in as viewer; open page editor","All fields disabled; no Save button",High,
,AC-058,Admin Console,Permissions,"websiteSettings perm - admin can edit","Log in as admin","Website Settings page fully editable",Critical,
,AC-059,Admin Console,Permissions,"websiteSettings perm - super-admin can edit","Log in as super-admin","Website Settings page fully editable",Critical,
,AC-060,Admin Console,Permissions,"customPages perm - editor can CRUD","Log in as editor","Can create, edit, delete custom pages",Critical,
,AC-061,Admin Console,Permissions,"customPages perm - viewer cannot create/delete","Log in as viewer","No create/delete buttons; fields disabled in editor",Critical,
,AC-062,Admin Console,Firestore Rules,"Pages collection public read","Unauthenticated read of /municipalities/x/pages","Read succeeds (website builder needs this)",Critical,
,AC-063,Admin Console,Firestore Rules,"Pages collection requires editor to write","Try to write as viewer","Write fails with permission-denied",Critical,
,AC-064,Admin Console,Firestore Rules,"Pages collection allows editor write","Write as editor","Write succeeds",Critical,
,AC-065,Admin Console,Firestore Rules,"Existing rules unchanged","Test events/alerts/facilities CRUD","All existing rules still work correctly",Critical,Regression test
,E2E-001,End-to-End,Integration,"Admin -> Website flow: create text page","In admin: create text page, add content, publish. In website: visit /{slug}","Page content renders correctly on website",Critical,
,E2E-002,End-to-End,Integration,"Admin -> Website flow: create council page","In admin: create council page with members, publish. In website: visit /{slug}","Council members display with photos and roles",Critical,
,E2E-003,End-to-End,Integration,"Admin -> Website flow: update and see change","Edit a published page in admin. Wait 5 min (ISR). Reload website.","Updated content appears on website",High,
,E2E-004,End-to-End,Integration,"Website settings reflect on website","Set hero tagline in admin. Load website home.","Tagline appears in hero section",Critical,
,E2E-005,End-to-End,Integration,"Footer info reflects on website","Set address/phone/email in website settings. Load website.","Footer shows correct contact info",High,
,E2E-006,End-to-End,Integration,"Social links reflect on website","Set Facebook/Instagram URLs. Load website.","Social links appear in footer",Medium,
,E2E-007,End-to-End,Integration,"Menu nav reflects published pages","Publish 2 pages (services + city section). Load website.","Services and City dropdowns appear in nav with correct pages",High,
,E2E-008,End-to-End,Integration,"Unpublish page removes from nav","Change page status to draft. Reload website.","Page removed from nav dropdown and URL returns 404",High,
,E2E-009,End-to-End,Integration,"Delete page removes from website","Delete a published page in admin. Reload website.","Page slug returns 404; removed from navigation",High,
,MA-001,Mobile App,Regression,"Events still load","Open mobile app; check events tab","Events load and display correctly (no impact from admin changes)",Critical,Regression test
,MA-002,Mobile App,Regression,"Alerts still display","Open mobile app; check alerts","Alerts load and display correctly",Critical,Regression test
,MA-003,Mobile App,Regression,"Facilities still load","Open mobile app; check facilities","Facilities load correctly",Critical,Regression test
,MA-004,Mobile App,Regression,"Schedule still works","Open mobile app; check schedule","Collection schedule displays correctly",Critical,Regression test
,MA-005,Mobile App,Regression,"Zone selection still works","Select different zones in mobile app","Zone-specific schedule data loads",High,Regression test
,MA-006,Mobile App,Regression,"Bilingual toggle works","Switch language in mobile app","All content switches language correctly",Critical,Regression test
,MA-007,Mobile App,Regression,"Push notifications unaffected","Trigger a test notification","Notifications still delivered and handled",Medium,Regression test
,MA-008,Mobile App,Data Integrity,"New pages collection doesn't interfere","Add pages to Firestore. Check mobile app.","Mobile app ignores pages collection; no errors or UI changes",High,
,SEC-001,Security,API,"Domains API rejects unauthenticated add/remove","Call /api/domains add without Vercel token configured","Returns 500 (Vercel API not configured)",High,
,SEC-002,Security,API,"Domains API validates input","POST with empty domain","Returns 400 error",High,
,SEC-003,Security,API,"No XSS in rendered bilingual content","Create event with <script>alert(1)</script> as title","Script tag rendered as text, not executed (React auto-escapes)",Critical,
,SEC-004,Security,Firestore,"Pages write requires auth","Try writing to pages collection unauthenticated","Permission denied",Critical,
,SEC-005,Security,Firestore,".env.local is gitignored","Check git status","`.env.local` does not appear in tracked files",Critical,
,SEC-006,Security,Admin,"Permission checks client-side","Inspect code for direct Firestore writes without can() checks","All mutations check canEdit/canCreate/canDelete before executing",High,
,SEC-007,Security,Admin,"Permission checks server-side","Firestore rules enforce role hierarchy for pages collection","Editor+ can write; viewer cannot; unauthenticated cannot",Critical,
